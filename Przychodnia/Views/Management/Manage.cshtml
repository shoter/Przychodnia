@model Przychodnia.Models.Przychodnie.ManagePrzychodniaViewModel

@{
    ViewBag.Title = string.Format("Zarządzaj przychodnią {0}", Model.Nazwa);
    Layout = "~/Views/Shared/_BigLayout.cshtml";
}


<div class="row">
    <div class="col-lg-6 col-sm-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3>Aktywni lekarze</h3>

            </div>

            <div class="panel-body">
                <a href="@Url.Action("AddPrzydzial", new { przychodniaID = Model.PrzychodniaID })" class="btn btn-success">Dodaj nowego lekarza.</a>
                <hr/>
                <div>
                    <table class="table table-striped table-bordered table-hover" data-tables>
                        <thead>
                            <tr>
                                <td></td>
                                <td>Lekarz ID</td>
                                <td>Nazwisko</td>
                                <td>Imię</td>
                                <td>Nazwa użytkownika</td>
                                <td>Początek przydziału</td>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach(var lekarz in Model.WorkingDoctors)
                            {
                                <tr>
                                    <td title="Zwolnij lekarza z przydziału"><a href="@Url.Action("Fire", new { lekarzID = lekarz.ID, przychodniaID = Model.PrzychodniaID })" ><i class="fa fa-user-times"></i></a></td>
                                    <td>@lekarz.ID</td>
                                    <td>@lekarz.Nazwisko</td>
                                    <td>@lekarz.Imie</td>
                                    <td>@lekarz.NazwaUzytkownika</td>
                                    <td>@lekarz.Przydzialy.First().PoczatekPrzydzialu.ToShortDateString()</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-6 col-sm-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3>Dawniej pracujący lekarze</h3>

            </div>

            <div class="panel-body">
                <div>
                    <table class="table table-striped table-bordered table-hover" data-tables>
                        <thead>
                            <tr>
                                <td>Lekarz ID</td>
                                <td>Nazwisko</td>
                                <td>Imię</td>
                                <td>Nazwa użytkownika</td>
                                <td>Początek przydziału</td>
                                <td>Koniec przydziału</td>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var lekarz in Model.NotWorkingDoctors)
                            {
                                <tr>
                                    <td>@lekarz.ID</td>
                                    <td>@lekarz.Nazwisko</td>
                                    <td>@lekarz.Imie</td>
                                    <td>@lekarz.NazwaUzytkownika</td>
                                    <td>@lekarz.Przydzialy.First().PoczatekPrzydzialu.ToShortDateString()</td>
                                    <td>@lekarz.Przydzialy.First().KoniecPrzydzialu.Value.ToShortDateString()</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-6 col-sm-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3>Ostatnie wizyty pacjentów</h3>

            </div>

            <div class="panel-body">
                <div>
                    <table class="table table-striped table-bordered table-hover" data-tables>
                        <thead>
                            <tr>
                                <td></td>
                                <td>ID</td>
                                <td>Nazwa użytkownika</td>
                                <td>LekarzID</td>
                                <td>Imię</td>
                                <td>Nazwisko</td>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-6 col-sm-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3>Ostatnie alerty</h3>

            </div>

            <div class="panel-body">
                <div>
                    <table class="table table-striped table-bordered table-hover" data-tables>
                        <thead>
                            <tr>
                                <td></td>
                                <td>ID</td>
                                <td>Nazwa użytkownika</td>
                                <td>LekarzID</td>
                                <td>Imię</td>
                                <td>Nazwisko</td>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-6 col-sm-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3>Ostatnie pomiary</h3>

            </div>

            <div class="panel-body">
                <div>
                    <table class="table table-striped table-bordered table-hover" data-tables>
                        <thead>
                            <tr>
                                <td></td>
                                <td>ID</td>
                                <td>Nazwa użytkownika</td>
                                <td>LekarzID</td>
                                <td>Imię</td>
                                <td>Nazwisko</td>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script type="text/javascript">

        $('[data-tables]').DataTable({
            responsive: true
        });
    </script>

}